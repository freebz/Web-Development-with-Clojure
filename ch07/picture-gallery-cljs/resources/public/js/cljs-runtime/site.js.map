{"version":3,"sources":["site.cljs"],"mappings":";AAGA,WAAA,XAAMA,8BAAKC,QAAQC;AAAnB,AACE,OAAgBD,sBAAQC;;AAE1B,eAAA,uBAAAC,tCAAMG;AAAN,AAAA,IAAAF,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAAgBG;QAAhB,AAAAF,4CAAAD,WAAA,IAAA,/DAAkBI;QAAlB,AAAAH,4CAAAD,WAAA,IAAA,/DAAoBK;AAApB,AACE,QAAA,sDAAA,mDAAA,mDAAA,zGAAYF,mDAAMC,mDAAMC;;AAE1B,iBAAA,jBAAMC,0CAAWC,MAAMC,WAAWC;AAAlC,AACE,CAAM,AAASF,cAAO,AAACL,aAAQM;;AAC/B,QAAM,AAAmBD,wBAAO,AAACL,aAAQO;;AAE3C,eAAA,fAAMC,sCAASC;AAAf,4BACMA,TAAI,aAAA,bAACf,nBAAW,uCAAA,hCAACgB;;AAEvB,kBAAA,lBAAMC,4CAAYF;AAAlB,AACE,OAAY,KAAAG,YAAiB,AAACJ,aAAQC,iBAC1B,WAAAI;AAAA,AAAA,IAAAC,aAAAD;iBAAA,AAAAd,4CAAAe,WAAA,IAAA,xEAAMP;QAAN,AAAAR,4CAAAe,WAAA,IAAA,/DAAiBC;iBAAjB,AAAAhB,4CAAAe,WAAA,IAAA,xEAAmBR;AAAnB,AACE,OAACF,eAAU,AAASK,UAAKH,WAAWC;;;AAEpD,YAAA,ZAAeS;AAAf,AACE,IAAAC,aAAA,AAAAC,cAAY,AAACY,aAAM,gBAAA,hBAACC;IAApBZ,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,UAAA,AAAAD,kDAAAE,xDAAQZ;AAAR,AAAA,AACE,AAACE,gBAAWF;;AADd;AAAA,eAAAQ;eAAAE;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAAC,qBAAA,AAAAJ,cAAAD;AAAA,AAAA,GAAAK;AAAA,AAAA,IAAAL,iBAAAK;AAAA,AAAA,GAAA,AAAAC,6BAAAN;AAAA,IAAAO,kBAAA,AAAAC,sBAAAR;AAAA,AAAA,eAAA,AAAAS,qBAAAT;eAAAO;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,UAAA,AAAAI,gBAAAX,tBAAQR;AAAR,AAAA,AACE,AAACE,gBAAWF;;AADd;AAAA,eAAA,AAAAoB,eAAAZ;eAAA;eAAA;eAAA;;;;;;;;AAAA","names":["site/sel","element","selectors","p__19109","vec__19110","cljs.core.nth","site/rgb-str","r","g","b","site/set-color","style","foreground","background","site/img-url","div","domina/attr","site/set-colors","js/AlbumColors","p__19137","vec__19138","_","site/init","seq__19141","cljs.core/seq","chunk__19142","count__19143","i__19144","temp__5804__auto__","cljs.core/chunked-seq?","c__5568__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","cljs.core/first","cljs.core/next","domina/nodes","domina/by-class"],"sourcesContent":["(ns site\n  (:require [domina :refer [by-class nodes attr]]))\n\n(defn sel [element selectors]\n  (.querySelector element selectors))\n\n(defn rgb-str [[r g b]]\n  (str \"rgb(\" r \",\" g \",\" b \")\"))\n\n(defn set-color [style foreground background]\n  (set! (.-color style) (rgb-str foreground))\n  (set! (.-backgroundColor style) (rgb-str background)))\n\n(defn img-url [div]\n  (-> div (sel \"img\") (attr \"src\")))\n\n(defn set-colors [div]\n  (.getColors (js/AlbumColors. (img-url div))\n              (fn [[background _ foreground]]\n                (set-color (.-style div) foreground background))))\n\n(defn ^:export init []\n  (doseq [div (nodes (by-class \"thumbnail\"))]\n    (set-colors div)))\n"]}